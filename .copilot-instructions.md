# Habit Tracker App - Instructions pour Copilot

Ce projet est une application de suivi d'habitudes (Habit Tracker) développée avec Next.js, TypeScript, et TailwindCSS.

## Architecture du projet

### Stack technique
- **Frontend**: Next.js 15, React, TypeScript, TailwindCSS
- **Backend**: API Routes Next.js
- **Base de données**: PostgreSQL (Neon)
- **Authentification**: NextAuth.js v5
- **Styling**: TailwindCSS + Heroicons

### Structure des dossiers
```
app/
├── (auth)/              # Pages d'authentification
│   ├── login/
│   └── signup/
├── dashboard/           # Interface utilisateur principal
│   ├── activities/      # Gestion des habitudes
│   ├── profile/         # Profil utilisateur et stats
│   └── admin/           # Interface admin (si admin)
├── api/                 # API Routes
│   ├── auth/
│   ├── activities/
│   └── stats/
├── lib/                 # Utilitaires et configurations
│   ├── db.ts           # Configuration base de données
│   ├── auth.ts         # Configuration auth
│   └── actions.ts      # Server actions
└── ui/                 # Composants réutilisables
```

## Fonctionnalités principales

### MVP (V1)
1. **Authentification** - Inscription/Connexion avec email/mot de passe
2. **Gestion d'activités** - CRUD des habitudes avec fréquence
3. **Validation quotidienne** - Marquer les habitudes comme réalisées
4. **Statistiques simples** - Pourcentage de réussite par période
5. **Backoffice admin** - Stats globales pour les administrateurs

### Fonctionnalités avancées (V2/V3)
- Système de défis entre utilisateurs
- Badges et gamification
- Événements communautaires
- Personnalisation des activités

## Conventions de développement

### Nomenclature
- **Composants**: PascalCase (ex: `ActivityCard`, `LoginForm`)
- **Fichiers**: kebab-case (ex: `activity-list.tsx`, `user-profile.tsx`)
- **Variables**: camelCase (ex: `activityList`, `isCompleted`)
- **Constants**: UPPER_SNAKE_CASE (ex: `API_ENDPOINTS`, `DEFAULT_FREQUENCY`)

### Base de données
Les tables principales suivent cette structure :
- `users` - Utilisateurs avec rôles
- `activities` - Habitudes des utilisateurs
- `activity_logs` - Logs de validation quotidienne
- `challenges` - Défis entre utilisateurs (V2)
- `badges` - Système de récompenses (V3)

### Authentification
Utilise NextAuth.js v5 avec :
- Provider credentials pour email/password
- JWT pour les sessions
- Middleware pour la protection des routes
- Rôles utilisateur (user/admin)

## Guidelines pour Copilot

### Lors de la création de composants :
1. Toujours utiliser TypeScript avec des types stricts
2. Implémenter la responsivité mobile-first
3. Utiliser TailwindCSS pour le styling
4. Inclure les états de loading et d'erreur
5. Ajouter l'accessibilité (aria-labels, semantic HTML)

### Pour les API Routes :
1. Valider les entrées avec Zod
2. Gérer les erreurs avec des codes HTTP appropriés
3. Authentifier les requêtes avec getServerSession
4. Utiliser les types TypeScript pour les réponses

### Pour les actions serveur :
1. Utiliser "use server" directive
2. Valider avec Zod
3. Revalider le cache approprié
4. Gérer les erreurs gracieusement

### Styling et UX :
- Design moderne et clean avec TailwindCSS
- Animations subtiles pour les interactions
- Feedback visuel pour les actions (success/error)
- Interface intuitive pour le suivi d'habitudes
- Couleurs cohérentes avec le thème de la productivité

Exemple de palette :
- Primary: blue-500, green-500 (success)
- Secondary: gray-100, gray-600
- Accent: purple-500, orange-500
- Status: red-500 (error), yellow-500 (warning)